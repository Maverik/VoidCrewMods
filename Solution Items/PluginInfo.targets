<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <!-- shoutout to https://github.com/Cryptoc1/lc-plugin-sdk/blob/main/src/Sdk/Sdk.targets for this gem -->
    <Target Name="_GeneratePluginInfo" BeforeTargets="BeforeCompile" Inputs="$(MSBuildAllProjects)" Outputs="$(IntermediateOutputPath)$(MSBuildProjectName).PluginInfo.g.cs">
        <PropertyGroup>
            <_GeneratedPluginInfoText>
                <![CDATA[// <auto-generated/>
namespace $(RootNamespace)%3B

[global::System.Runtime.CompilerServices.CompilerGenerated]
public static class PluginInfo
{
    public const string PackageId = "$(PackageId)"%3B
    public const string Title = "$(Title)"%3B
    public const string VersionString = "$(Version)"%3B
    public static Version Version = Version.Parse("$(Version)")%3B
}]]>
            </_GeneratedPluginInfoText>

            <_GeneratedPluginInfoPath>$(IntermediateOutputPath)$(MSBuildProjectName).PluginInfo.g.cs</_GeneratedPluginInfoPath>
        </PropertyGroup>

        <ItemGroup>
            <Compile Include="$(_GeneratedPluginInfoPath)"/>
            <FileWrites Include="$(_GeneratedPluginInfoPath)"/>
        </ItemGroup>
        <WriteLinesToFile Lines="$(_GeneratedPluginInfoText)" File="$(_GeneratedPluginInfoPath)" Overwrite="true"/>
    </Target>
</Project>